<div class="container">
    <div class="filter-section">
        <mat-form-field appearance="outline">
            <input matInput placeholder="Type to search..." [formControl]="searchControl" (keyup)="filterProducts()">
            <mat-icon matPrefix>search</mat-icon>
        </mat-form-field>

        <select [(ngModel)]="selectedCategory" (change)="filterProducts()" class="category-select">
            <option value="">All Categories</option>
            <option value="electronics">Electronics</option>
            <option value="jewelery">Jewelery</option>
            <option value="men's clothing">Men's Clothing</option>
            <option value="women's clothing">Women's Clothing</option>
        </select>
    </div>

    <div class="spinner-container" *ngIf="loading()">
        <mat-spinner></mat-spinner>
    </div>

    <div class="products-grid" @staggerFade>
        @for (product of filteredProducts(); track product.id) {
        <app-product [product]="product" (addToCart)="addToCart($event)">
        </app-product>
        }
    </div>
</div>